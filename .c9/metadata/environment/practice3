{"changed":true,"filter":false,"title":"practice3","tooltip":"/practice3","value":"","undoManager":{"mark":-2,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":174,"column":6},"action":"insert","lines":[""," var map, places, infoWindow;","      var markers = [];","      var autocomplete;","      var countryRestrict = {'usState': 'us'};","      ","","      var state = {","        'az': {","          center: {lat: 34.0489, lng: -111.0937},","          zoom: 5","        },","        'ca': {","          center: {lat: 36.7783, lng: -119.4179},","          zoom: 5","        },","        'il': {","          center: {lat: 40.6331, lng: -89.3985},","          zoom: 5","        },","        'mi': {","          center: {lat: 37.9643, lng: -91.8318},","          zoom: 5","        },","        'nm': {","          center: {lat: 31.5199, lng: -105.8701},","          zoom: 5","        },","        'ol': {","          center: {lat: 35.0078, lng: -97.0929},","          zoom: 5","        },","        'tx': {","          center: {lat: 31.9686, lng: -99.9018},","          zoom: 5","        },","        'us': {","          center: {lat: 37.1, lng: -95.7},","          zoom: 3","        },","      };","      ","","","      function initMap() {","        map = new google.maps.Map(document.getElementById('map'), {","          zoom: state['us'].zoom,","          center: state['us'].center,","        });","        ","          // Create the autocomplete object and associate it with the UI input control.","        // Restrict the search to the default country, and to place type \"cities\".","        autocomplete = new google.maps.places.Autocomplete(","            /** @type {!HTMLInputElement} */ (","                document.getElementById('autocomplete')), {","              types: ['(cities)'],","            });","        ","","        autocomplete.addListener('place_changed', onPlaceChanged);","","        // Add a DOM event listener to react when the user selects a country.","        document.getElementById('usState').addEventListener(","            'change', setAutocompleteusState);","      }","","      // When the user selects a city, get the place details for the city and","      // zoom the map in on the city.","      function onPlaceChanged() {","        var place = autocomplete.getPlace();","        if (place.geometry) {","          map.panTo(place.geometry.location);","          map.setZoom(12);","          search();","        } else {","          document.getElementById('autocomplete').placeholder = 'search';","        }","      }","      ","     ","      // Set the country restriction based on user input.","      // Also center and zoom the map on the given country.","      function setAutocompleteusState() {","        var usState = document.getElementById('usState').value;","        if (usState == 'all') {","          autocomplete.setComponentRestrictions({'usState': []});","          map.setCenter({lat: 15, lng: 0});","          map.setZoom(2);","        } else {","          autocomplete.setComponentRestrictions({'usState': usState});","          map.setCenter(state[usState].center);","          map.setZoom(state[usState].zoom);","        }","        clearResults();","        clearMarkers();","      }","      ","      //Nearby place search by click---------------------------","  placesService = new google.maps.places.PlacesService(map);","  ","  document.getElementById(\"accommodation\").addEventListener(\"click\", function() {","    placeType = ['lodging'];","    clearMarkers();","    searchPlaces();","  });","  document.getElementById(\"nationalParks\").addEventListener(\"click\", function() {","    placeType = ['parks', 'hikes', 'national_park'];","    clearMarkers();","    searchPlaces();","  });","  document.getElementById(\"attraction\").addEventListener(\"click\", function() {","    placeType = ['night_club', 'zoo', 'museum', 'amusement_park' ];","    clearMarkers();","    searchPlaces();","  });"," ","","","function dropDown() {","  var search = {","    bounds: map.getBounds(),","    types: placeType","  };","  placesService.nearbySearch(search, function(results, status) {","    if (status === google.maps.places.PlacesServiceStatus.OK) {","      //Clear markers---------------------------------------------------","      clearMarkers();","      //Create markers----------------------------------------------------","      for (var i = 0; i < results.length; i++) {","        markers[i] = new google.maps.Marker({","          position: results[i].geometry.location,","          animation: google.maps.Animation.DROP","        });","        markers[i].placeResult = results[i];","        google.maps.event.addListener(markers[i], 'click', showInfoWindow); //Show info window when user clicks on a marker---","        //google.maps.event.addListener(markers[i], 'click', showInfoWindow); Show info window when user clicks on a marker---","        setTimeout(dropMarker(i), i * 100);","      }","","    }","  });","}","      ","//Add markers to map----------------------------","function dropMarker(i) {","  return function() {","    markers[i].setMap(map);","  };","}","","//Clear markers---------------------------------","function clearMarkers() {","  for (var i = 0; i < markers.length; i++) {","    if (markers[i]) {","      markers[i].setMap(null);","    }","  }","  markers = [];","}","// Get the place details for a place. Show the information in an info window,","// anchored on the marker for the place that the user selected.","function showInfoWindow() {","  var marker = this;","  placesService.getDetails({ placeId: marker.placeResult.place_id },","    function(place, status) {","      if (status !== google.maps.places.PlacesServiceStatus.OK) {","        return;","      }","      infoWindow.open(map, marker);","      renderPlaceDetails(place);","    });","}","","","      "],"id":1}]]},"ace":{"folds":[],"scrolltop":1983.5625,"scrollleft":0,"selection":{"start":{"row":174,"column":6},"end":{"row":174,"column":6},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":136,"mode":"ace/mode/text"}},"timestamp":1575148417963}